(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f73a59f0"],{"2d8c":function(t,e,a){},3155:function(t,e,a){"use strict";var n=a("a2e6"),i=a.n(n);i.a},5161:function(t,e,a){"use strict";var n=a("2d8c"),i=a.n(n);i.a},6448:function(t,e,a){"use strict";var n=a("8dc5"),i=a.n(n);i.a},"71ea":function(t,e,a){},"8dc5":function(t,e,a){},9406:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a(t.currentRole,{tag:"component"})],1)},i=[],r=a("5530"),s=a("2f62"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("github-corner",{staticClass:"github-corner"}),a("panel-group",{attrs:{"panel-data":t.panel_value},on:{handleSetLineChartData:t.handleSetLineChartData}}),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("bar-chart",{attrs:{"chart-data":t.accountValue}})],1),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("pie-chart",{attrs:{pieData:t.coinsValue}})],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:16}},[a("div",{staticClass:"table-wrapper"},[a("assets")],1)])],1)],1)},c=[],o=(a("b680"),a("96cf"),a("1da1")),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a",{staticClass:"github-corner",attrs:{href:"https://github.com/goex-top/cryptoassets",target:"_blank","aria-label":"View source on Github"}},[a("svg",{staticStyle:{fill:"#40c9c6",color:"#fff"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[a("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),a("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),a("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])},d=[],h=(a("db43"),a("2877")),p={},f=Object(h["a"])(p,u,d,!1,null,"379ef6ae",null),m=f.exports,b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},v=[],g=a("313e"),C=a.n(g),_=a("ed08"),w={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(_["a"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}};a("817d");var y={mixins:[w],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"450px"},autoResize:{type:Boolean,default:!0},chartData:{type:Array,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=C.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(t){for(var e=[],a=[],n=0;n<t.length;n++)e.push(Object(_["b"])(t[n].time)),a.push(t[n].value);this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},legend:{x:"5%",top:"10%",textStyle:{color:"#90979c"},data:["资产","平均"]},xAxis:[{type:"category",data:e,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"资产",type:"bar",stack:"vistors",symbolSize:10,symbol:"circle",barWidth:"60%",itemStyle:{normal:{color:"rgba(0,191,183,1)",barBorderRadius:0}},data:a},{name:"平均",type:"line",stack:"vistors",symbolSize:10,symbol:"circle",itemStyle:{normal:{color:"rgba(255,144,128,1)",barBorderRadius:0}},data:a}]})}}},S=y,x=Object(h["a"])(S,b,v,!1,null,null,null),D=x.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},$=[];a("b0c0");a("817d");var z={mixins:[w],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},pieData:{type:Array,required:!0}},data:function(){return{chart:null}},watch:{pieData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},created:function(){},methods:{initChart:function(){this.chart=C.a.init(this.$el,"macarons"),this.setOptions(this.pieData)},setOptions:function(t){for(var e=[],a=0;a<t.length;a++){var n=t[a];e.push(n.name)}this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:e},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:t,animationEasing:"cubicInOut",animationDuration:2600}]})}}},E=z,k=Object(h["a"])(E,T,$,!1,null,null,null),L=k.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.assets,border:""}},[t.hidenColumn?a("el-table-column",{attrs:{align:"center",label:"ID",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}],null,!1,3411552848)}):t._e(),t.hidenColumn?a("el-table-column",{attrs:{align:"center",label:"平台",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.exchange_name)+" ")]}}],null,!1,847387774)}):t._e(),a("el-table-column",{attrs:{align:"center",label:"个性名"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.nick_name)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"USDT估值",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.usdt)+" ")]}}])}),t.hidenColumn?a("el-table-column",{attrs:{align:"center",label:"BTC估值",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.btc)+" ")]}}],null,!1,2688441800)}):t._e(),a("el-table-column",{attrs:{align:"center",label:"详情",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){return t.handleViewDetail(e)}}},[t._v("查看")])]}}])})],1),a("el-drawer",{attrs:{visible:t.dialogVisible,title:t.exchange_name,size:"dialogSize"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{staticClass:"filter-container"},[a("el-switch",{attrs:{"active-text":"BTC估值","inactive-text":"USDT估值"},model:{value:t.showValue,callback:function(e){t.showValue=e},expression:"showValue"}})],1),a("el-table",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{data:t.currencies,border:"","default-sort":{prop:"id",order:"descending",prop:"usdt",order:"descending",prop:"btc",order:"descending",prop:"currency_name",order:"descending",prop:"free",order:"descending",prop:"frozen",order:"descending"}}},[t.hidenColumn?a("el-table-column",{attrs:{align:"center",label:"ID",width:"80",sortable:"",prop:"id"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.id)+" ")]}}],null,!1,3411552848)}):t._e(),a("el-table-column",{attrs:{align:"center",label:"币",width:"120",sortable:"",prop:"currency_name"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.currency_name)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"可用",width:"150",sortable:"",prop:"free"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.free)+" ")]}}])}),a("el-table-column",{attrs:{align:"center",label:"冻结",width:"150",sortable:"",prop:"frozen"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.frozen)+" ")]}}])}),!0===t.showValue?a("el-table-column",{attrs:{align:"center",label:"估值(BTC)",width:"150",sortable:"",prop:"btc"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.btc)+" ")]}}],null,!1,2688441800)}):t._e(),!1===t.showValue?a("el-table-column",{attrs:{align:"center",label:"估值(USDT)",width:"150",sortable:"",prop:"usdt"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.usdt)+" ")]}}],null,!1,670507307)}):t._e()],1)],1)],1)},R=[],U=a("b775");function V(){return Object(U["a"])({url:"/asset_history",method:"get"})}function j(){return Object(U["a"])({url:"/asset",method:"get"})}function A(t){return Object(U["a"])({url:"/exchange_summary",method:"get",params:{id:t}})}function B(){return Object(U["a"])({url:"/coin_list",method:"get"})}var N={name:"Assets",data:function(){return{dialogVisible:!1,dialogSize:"35%",exchange_name:"",assets:[],currencies:[],listLoading:!0,showValue:!0,hidenColumn:!1}},created:function(){this.getAssets()},mounted:function(){var t=this;window.addEventListener("resize",(function(){document.body.clientWidth<900?(t.hidenColumn=!0,t.dialogSize="40%"):(t.hidenColumn=!1,t.dialogSize="35%")}))},methods:{getAssets:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.listLoading=!0,e.next=3,j();case 3:a=e.sent,t.assets=a.data,t.listLoading=!1;case 6:case"end":return e.stop()}}),e)})))()},handleViewDetail:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n,i,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.exchange_name=t.row.exchange_name,e.dialogVisible=!0,a.next=4,A(t.row.id);case 4:for(n=a.sent,i=[],r=n.data,s=0;s<r.length;s++)i.push({id:r[s].ID,currency_name:r[s].coin_name,free:r[s].amount,frozen:r[s].frozen_amount,usdt:r[s].usdt.toFixed(4),btc:r[s].btc.toFixed(8)});e.currencies=i;case 9:case"end":return a.stop()}}),a)})))()}}},Y=N,H=(a("6448"),Object(h["a"])(Y,O,R,!1,null,"4c6ed719",null)),P=H.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("BTC")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"BTC","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" BTC ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.BTC,duration:1e3,decimals:8}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("USDT")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"USDT","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" USDT ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.USDT,duration:1e3,decimals:4}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("USD")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"USD","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" USD ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.USD,duration:1e3,decimals:4}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("CNY")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"CNY","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" CNY ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.CNY,duration:1e3,decimals:4}})],1)])])],1)},F=[],I=a("ec1b"),W=a.n(I),q={components:{CountTo:W.a},props:{className:{type:String,default:"panelGroup"},panelData:{type:Object,required:!0}},data:function(){return{BTC:0,USDT:0,USD:0,CNY:0}},watch:{panelData:{deep:!0,handler:function(t){this.handleSetPanelData(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initPanel()}))},methods:{initPanel:function(){this.handleSetPanelData(this.panelData)},handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)},handleSetPanelData:function(t){this.BTC=t.BTC,this.USDT=t.USDT,this.USD=t.USD,this.CNY=t.CNY}}},M=q,J=(a("5161"),Object(h["a"])(M,G,F,!1,null,"655f1f99",null)),Z=J.exports,K={name:"DashboardAdmin",components:{GithubCorner:m,PanelGroup:Z,PieChart:L,BarChart:D,Assets:P},data:function(){return{accountAllValue:{BTC:[],USDT:[],USD:[],CNY:[]},accountValue:[],coinsValue:[],panel_value:{BTC:0,USDT:0,USD:0,CNY:0}}},created:function(){this.getAccounts(),this.getCoinList()},methods:{handleSetLineChartData:function(t){this.accountValue=this.accountAllValue[t]},getAccounts:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i,r,s,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:for(a=e.sent,n=a.data,i=[],r=[],s=[],l=[],c=0;c<n.length;c++)i.push({time:n[c].CreatedAt,value:n[c].btc.toFixed(8)}),r.push({time:n[c].CreatedAt,value:n[c].usdt.toFixed(4)}),s.push({time:n[c].CreatedAt,value:n[c].usd.toFixed(4)}),l.push({time:n[c].CreatedAt,value:n[c].cny.toFixed(4)});t.accountAllValue.BTC=i,t.accountAllValue.USDT=r,t.accountAllValue.USD=s,t.accountAllValue.CNY=l,t.handleSetLineChartData("USDT"),t.panel_value.BTC=i[i.length-1].value,t.panel_value.USDT=r[r.length-1].value,t.panel_value.USD=s[s.length-1].value,t.panel_value.CNY=l[l.length-1].value;case 18:case"end":return e.stop()}}),e)})))()},getCoinList:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:for(a=e.sent,n=a.data,n.sort(t.compare("value")),i=n.length>7?7:n.length,r=0;r<i;r++)t.coinsValue.push(n[r]);case 7:case"end":return e.stop()}}),e)})))()},compare:function(t){return function(e,a){var n=e[t],i=a[t];return i-n}}}},Q=K,X=(a("9a41"),Object(h["a"])(Q,l,c,!1,null,"5a37031b",null)),tt=X.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("div",{staticClass:" clearfix"},[a("pan-thumb",{staticStyle:{float:"left"},attrs:{image:t.avatar}},[t._v(" Your roles: "),t._l(t.roles,(function(e){return a("span",{key:e,staticClass:"pan-info-roles"},[t._v(t._s(e))])}))],2),a("github-corner",{staticStyle:{position:"absolute",top:"0px",border:"0",right:"0"}}),a("div",{staticClass:"info-container"},[a("span",{staticClass:"display_name"},[t._v(t._s(t.name))]),a("span",{staticStyle:{"font-size":"20px","padding-top":"20px",display:"inline-block"}},[t._v("Editor's Dashboard")])])],1),a("div",[a("img",{staticClass:"emptyGif",attrs:{src:t.emptyGif}})])])},at=[],nt={name:"DashboardEditor",data:function(){return{emptyGif:"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3"}},computed:Object(r["a"])({},Object(s["b"])(["name","avatar","roles"]))},it=nt,rt=(a("3155"),Object(h["a"])(it,et,at,!1,null,"07f4aa2c",null)),st=rt.exports,lt={name:"Dashboard",components:{adminDashboard:tt,editorDashboard:st},data:function(){return{currentRole:"adminDashboard"}},computed:Object(r["a"])({},Object(s["b"])(["roles"])),created:function(){}},ct=lt,ot=Object(h["a"])(ct,n,i,!1,null,null,null);e["default"]=ot.exports},"9a41":function(t,e,a){"use strict";var n=a("71ea"),i=a.n(n);i.a},a2e6:function(t,e,a){},db43:function(t,e,a){"use strict";var n=a("ebf1"),i=a.n(n);i.a},ebf1:function(t,e,a){},ed08:function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return i}));a("4160"),a("a630"),a("c975"),a("a15b"),a("baa5"),a("d81d"),a("fb6a"),a("b64b"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("6062"),a("3ca3"),a("466d"),a("4d90"),a("5319"),a("1276"),a("159b"),a("ddb0"),a("53ca");function n(t){var e=t.split("."),a=e[0].replace("T"," ");return a}function i(t,e,a){var n,i,r,s,l,c=function c(){var o=+new Date-s;o<e&&o>0?n=setTimeout(c,e-o):(n=null,a||(l=t.apply(r,i),n||(r=i=null)))};return function(){for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];r=this,s=+new Date;var d=a&&!n;return n||(n=setTimeout(c,e)),d&&(l=t.apply(r,o),r=o=null),l}}}}]);